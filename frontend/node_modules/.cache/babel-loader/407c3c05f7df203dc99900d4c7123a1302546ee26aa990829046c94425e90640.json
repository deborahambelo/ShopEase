{"ast":null,"code":"import _toConsumableArray from\"/Users/deborahketema/Downloads/jvlcart-main/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/deborahketema/Downloads/jvlcart-main/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from\"@reduxjs/toolkit\";var cartSlice=createSlice({name:'cart',initialState:{items:localStorage.getItem('cartItems')?JSON.parse(localStorage.getItem('cartItems')):[],loading:false,shippingInfo:localStorage.getItem('shippingInfo')?JSON.parse(localStorage.getItem('shippingInfo')):{}},reducers:{addCartItemRequest:function addCartItemRequest(state,action){return _objectSpread(_objectSpread({},state),{},{loading:true});},addCartItemSuccess:function addCartItemSuccess(state,action){var item=action.payload;var isItemExist=state.items.find(function(i){return i.product==item.product;});if(isItemExist){state=_objectSpread(_objectSpread({},state),{},{loading:false});}else{state={items:[].concat(_toConsumableArray(state.items),[item]),loading:false};localStorage.setItem('cartItems',JSON.stringify(state.items));}return state;},increaseCartItemQty:function increaseCartItemQty(state,action){state.items=state.items.map(function(item){if(item.product==action.payload){item.quantity=item.quantity+1;}return item;});localStorage.setItem('cartItems',JSON.stringify(state.items));},decreaseCartItemQty:function decreaseCartItemQty(state,action){state.items=state.items.map(function(item){if(item.product==action.payload){item.quantity=item.quantity-1;}return item;});localStorage.setItem('cartItems',JSON.stringify(state.items));},removeItemFromCart:function removeItemFromCart(state,action){var filterItems=state.items.filter(function(item){return item.product!==action.payload;});localStorage.setItem('cartItems',JSON.stringify(filterItems));return _objectSpread(_objectSpread({},state),{},{items:filterItems});},saveShippingInfo:function saveShippingInfo(state,action){localStorage.setItem('shippingInfo',JSON.stringify(action.payload));return _objectSpread(_objectSpread({},state),{},{shippingInfo:action.payload});},orderCompleted:function orderCompleted(state,action){localStorage.removeItem('shippingInfo');localStorage.removeItem('cartItems');sessionStorage.removeItem('orderInfo');return{items:[],loading:false,shippingInfo:{}};}}});var actions=cartSlice.actions,reducer=cartSlice.reducer;var addCartItemRequest=actions.addCartItemRequest,addCartItemSuccess=actions.addCartItemSuccess,decreaseCartItemQty=actions.decreaseCartItemQty,increaseCartItemQty=actions.increaseCartItemQty,removeItemFromCart=actions.removeItemFromCart,saveShippingInfo=actions.saveShippingInfo,orderCompleted=actions.orderCompleted;export{addCartItemRequest,addCartItemSuccess,decreaseCartItemQty,increaseCartItemQty,removeItemFromCart,saveShippingInfo,orderCompleted};export default reducer;","map":{"version":3,"names":["createSlice","cartSlice","name","initialState","items","localStorage","getItem","JSON","parse","loading","shippingInfo","reducers","addCartItemRequest","state","action","addCartItemSuccess","item","payload","isItemExist","find","i","product","setItem","stringify","increaseCartItemQty","map","quantity","decreaseCartItemQty","removeItemFromCart","filterItems","filter","saveShippingInfo","orderCompleted","removeItem","sessionStorage","actions","reducer"],"sources":["/Users/deborahketema/Downloads/jvlcart-main/frontend/src/slices/cartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\n\n\nconst cartSlice = createSlice({\n    name: 'cart',\n    initialState: {\n        items: localStorage.getItem('cartItems')? JSON.parse(localStorage.getItem('cartItems')): [],\n        loading: false,\n        shippingInfo: localStorage.getItem('shippingInfo')? JSON.parse(localStorage.getItem('shippingInfo')): {}\n    },\n    reducers: {\n        addCartItemRequest(state, action){\n            return {\n                ...state,\n                loading: true\n            }\n        },\n        addCartItemSuccess(state, action){\n            const item = action.payload\n\n            const isItemExist = state.items.find( i => i.product == item.product);\n            \n            if(isItemExist) {\n                state = {\n                    ...state,\n                    loading: false,\n                }\n            }else{\n                state = {\n                    items: [...state.items, item],\n                    loading: false\n                }\n                \n                localStorage.setItem('cartItems', JSON.stringify(state.items));\n            }\n            return state\n            \n        },\n        increaseCartItemQty(state, action) {\n            state.items = state.items.map(item => {\n                if(item.product == action.payload) {\n                    item.quantity = item.quantity + 1\n                }\n                return item;\n            })\n            localStorage.setItem('cartItems', JSON.stringify(state.items));\n\n        },\n        decreaseCartItemQty(state, action) {\n            state.items = state.items.map(item => {\n                if(item.product == action.payload) {\n                    item.quantity = item.quantity - 1\n                }\n                return item;\n            })\n            localStorage.setItem('cartItems', JSON.stringify(state.items));\n\n        },\n        removeItemFromCart(state, action) {\n            const filterItems = state.items.filter(item => {\n                return item.product !== action.payload\n            })\n            localStorage.setItem('cartItems', JSON.stringify(filterItems));\n            return {\n                ...state,\n                items: filterItems\n            }\n        },\n        saveShippingInfo(state, action) {\n            localStorage.setItem('shippingInfo', JSON.stringify(action.payload));\n            return {\n                ...state,\n                shippingInfo: action.payload\n            }\n        },\n        orderCompleted(state, action) {\n            localStorage.removeItem('shippingInfo');\n            localStorage.removeItem('cartItems');\n            sessionStorage.removeItem('orderInfo');\n            return {\n                items: [],\n                loading: false,\n                shippingInfo: {}\n            }\n        }\n\n    }\n});\n\nconst { actions, reducer } = cartSlice;\n\nexport const { \n    addCartItemRequest, \n    addCartItemSuccess,\n    decreaseCartItemQty,\n    increaseCartItemQty,\n    removeItemFromCart,\n    saveShippingInfo,\n    orderCompleted\n } = actions;\n\nexport default reducer;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}