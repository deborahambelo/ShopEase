{"ast":null,"code":"import{Fragment,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{Link,useParams}from'react-router-dom';import Loader from'../layouts/Loader';import{orderDetail as orderDetailAction}from'../../actions/orderActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function OrderDetail(){var _useSelector=useSelector(function(state){return state.orderState;}),orderDetail=_useSelector.orderDetail,loading=_useSelector.loading;var _orderDetail$shipping=orderDetail.shippingInfo,shippingInfo=_orderDetail$shipping===void 0?{}:_orderDetail$shipping,_orderDetail$user=orderDetail.user,user=_orderDetail$user===void 0?{}:_orderDetail$user,_orderDetail$orderSta=orderDetail.orderStatus,orderStatus=_orderDetail$orderSta===void 0?\"Processing\":_orderDetail$orderSta,_orderDetail$orderIte=orderDetail.orderItems,orderItems=_orderDetail$orderIte===void 0?[]:_orderDetail$orderIte,_orderDetail$totalPri=orderDetail.totalPrice,totalPrice=_orderDetail$totalPri===void 0?0:_orderDetail$totalPri,_orderDetail$paymentI=orderDetail.paymentInfo,paymentInfo=_orderDetail$paymentI===void 0?{}:_orderDetail$paymentI;var isPaid=paymentInfo&&paymentInfo.status===\"succeeded\"?true:false;var dispatch=useDispatch();var _useParams=useParams(),id=_useParams.id;useEffect(function(){dispatch(orderDetailAction(id));},[id]);return/*#__PURE__*/_jsx(Fragment,{children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex justify-content-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-lg-8 mt-5 order-details\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"my-5\",children:[\"Order # \",orderDetail._id]}),/*#__PURE__*/_jsx(\"h4\",{className:\"mb-4\",children:\"Shipping Info\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Name:\"}),\" \",user.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Phone:\"}),\" \",shippingInfo.phoneNo]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Address:\"}),shippingInfo.address,\", \",shippingInfo.city,\", \",shippingInfo.postalCode,\", \",shippingInfo.state,\", \",shippingInfo.country]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Amount:\"}),\" $\",totalPrice]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h4\",{className:\"my-4\",children:\"Payment\"}),/*#__PURE__*/_jsx(\"p\",{className:isPaid?'greenColor':'redColor',children:/*#__PURE__*/_jsx(\"b\",{children:isPaid?'PAID':'NOT PAID'})}),/*#__PURE__*/_jsx(\"h4\",{className:\"my-4\",children:\"Order Status:\"}),/*#__PURE__*/_jsx(\"p\",{className:orderStatus&&orderStatus.includes('Delivered')?'greenColor':'redColor',children:/*#__PURE__*/_jsx(\"b\",{children:orderStatus})}),/*#__PURE__*/_jsx(\"h4\",{className:\"my-4\",children:\"Order Items:\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-item my-1\",children:orderItems&&orderItems.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"row my-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-2\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name,height:\"45\",width:\"65\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-5 col-lg-5\",children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.product),children:item.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-2 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"$\",item.price]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-3 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsxs(\"p\",{children:[item.quantity,\" Piece(s)\"]})})]});})}),/*#__PURE__*/_jsx(\"hr\",{})]})})})});}","map":{"version":3,"names":["Fragment","useEffect","useDispatch","useSelector","Link","useParams","Loader","orderDetail","orderDetailAction","OrderDetail","state","orderState","loading","shippingInfo","user","orderStatus","orderItems","totalPrice","paymentInfo","isPaid","status","dispatch","id","_id","name","phoneNo","address","city","postalCode","country","includes","map","item","image","product","price","quantity"],"sources":["/Users/deborahketema/Downloads/ShopEase/frontend/src/components/order/OrderDetail.js"],"sourcesContent":["import { Fragment, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useParams } from 'react-router-dom';\nimport  Loader from '../layouts/Loader';\nimport {orderDetail as orderDetailAction } from '../../actions/orderActions';\nexport default function OrderDetail () {\n    const { orderDetail, loading } = useSelector(state => state.orderState)\n    const { shippingInfo={}, user={}, orderStatus=\"Processing\", orderItems=[], totalPrice=0, paymentInfo={} } = orderDetail;\n    const isPaid = paymentInfo && paymentInfo.status === \"succeeded\" ? true: false;\n    const dispatch = useDispatch();\n    const {id } = useParams();\n\n    useEffect(() => {\n        dispatch(orderDetailAction(id))\n    },[id])\n\n    return (\n        <Fragment>\n            {   loading ? <Loader/> :\n                <Fragment>\n                    <div className=\"row d-flex justify-content-between\">\n                        <div className=\"col-12 col-lg-8 mt-5 order-details\">\n    \n                            <h1 className=\"my-5\">Order # {orderDetail._id}</h1>\n    \n                            <h4 className=\"mb-4\">Shipping Info</h4>\n                            <p><b>Name:</b> {user.name}</p>\n                            <p><b>Phone:</b> {shippingInfo.phoneNo}</p>\n                            <p className=\"mb-4\"><b>Address:</b>{shippingInfo.address}, {shippingInfo.city}, {shippingInfo.postalCode}, {shippingInfo.state}, {shippingInfo.country}</p>\n                            <p><b>Amount:</b> ${totalPrice}</p>\n    \n                            <hr />\n    \n                            <h4 className=\"my-4\">Payment</h4>\n                            <p className={isPaid ? 'greenColor' : 'redColor' } ><b>{isPaid ? 'PAID' : 'NOT PAID' }</b></p>\n    \n    \n                            <h4 className=\"my-4\">Order Status:</h4>\n                            <p className={orderStatus&&orderStatus.includes('Delivered') ? 'greenColor' : 'redColor' } ><b>{orderStatus}</b></p>\n    \n    \n                            <h4 className=\"my-4\">Order Items:</h4>\n    \n                            <hr />\n                            <div className=\"cart-item my-1\">\n                                {orderItems && orderItems.map(item => (\n                                    <div className=\"row my-5\">\n                                        <div className=\"col-4 col-lg-2\">\n                                            <img src={item.image} alt={item.name} height=\"45\" width=\"65\" />\n                                        </div>\n\n                                        <div className=\"col-5 col-lg-5\">\n                                            <Link to={`/product/${item.product}`}>{item.name}</Link>\n                                        </div>\n\n\n                                        <div className=\"col-4 col-lg-2 mt-4 mt-lg-0\">\n                                            <p>${item.price}</p>\n                                        </div>\n\n                                        <div className=\"col-4 col-lg-3 mt-4 mt-lg-0\">\n                                            <p>{item.quantity} Piece(s)</p>\n                                        </div>\n                                    </div>\n                                ))}\n                                    \n                            </div>\n                            <hr />\n                        </div>\n                    </div>\n                </Fragment>\n            }\n        </Fragment>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}