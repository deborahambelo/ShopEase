{"ast":null,"code":"import _slicedToArray from\"/Users/deborahketema/Downloads/jvlcart-main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Fragment,useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{getProducts}from\"../actions/productActions\";import Loader from\"./layouts/Loader\";import MetaData from\"./layouts/MetaData\";import Product from\"./product/Product\";import{toast}from'react-toastify';import Pagination from'react-js-pagination';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.productsState;}),products=_useSelector.products,loading=_useSelector.loading,error=_useSelector.error,productsCount=_useSelector.productsCount,resPerPage=_useSelector.resPerPage;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var setCurrentPageNo=function setCurrentPageNo(pageNo){setCurrentPage(pageNo);};useEffect(function(){if(error){return toast.error(error,{position:toast.POSITION.BOTTOM_CENTER});}dispatch(getProducts(null,null,null,null,currentPage));},[error,dispatch,currentPage]);return/*#__PURE__*/_jsx(Fragment,{children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:'Buy Best Products'}),/*#__PURE__*/_jsx(\"h1\",{id:\"products_heading\",children:\"Latest Products\"}),/*#__PURE__*/_jsx(\"section\",{id:\"products\",className:\"container mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:products&&products.map(function(product){return/*#__PURE__*/_jsx(Product,{col:3,product:product},product._id);})})}),productsCount>0&&productsCount>resPerPage?/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center mt-5\",children:/*#__PURE__*/_jsx(Pagination,{activePage:currentPage,onChange:setCurrentPageNo,totalItemsCount:productsCount,itemsCountPerPage:resPerPage,nextPageText:'Next',firstPageText:'First',lastPageText:'Last',itemClass:'page-item',linkClass:'page-link'})}):null]})});}","map":{"version":3,"names":["Fragment","useEffect","useState","useDispatch","useSelector","getProducts","Loader","MetaData","Product","toast","Pagination","Home","dispatch","state","productsState","products","loading","error","productsCount","resPerPage","currentPage","setCurrentPage","setCurrentPageNo","pageNo","position","POSITION","BOTTOM_CENTER","map","product","_id"],"sources":["/Users/deborahketema/Downloads/jvlcart-main/frontend/src/components/Home.js"],"sourcesContent":["import { Fragment, useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getProducts } from \"../actions/productActions\";\nimport Loader from \"./layouts/Loader\";\nimport MetaData from \"./layouts/MetaData\";\nimport Product from \"./product/Product\";\nimport  {toast} from 'react-toastify';\nimport Pagination from 'react-js-pagination';\n\nexport  default function Home(){\n    const dispatch = useDispatch();\n    const {products, loading, error, productsCount, resPerPage} =    useSelector((state) => state.productsState)\n    const [currentPage, setCurrentPage] = useState(1);\n \n    const setCurrentPageNo = (pageNo) =>{\n\n        setCurrentPage(pageNo)\n       \n    }\n\n    useEffect(()=>{\n        if(error) {\n            return toast.error(error,{\n                position: toast.POSITION.BOTTOM_CENTER\n            })\n        }\n        dispatch(getProducts(null, null, null, null, currentPage)) \n    }, [error, dispatch, currentPage])\n\n\n    return (\n        <Fragment>\n            {loading ? <Loader/>:\n                <Fragment>\n                    <MetaData title={'Buy Best Products'} />\n                    <h1 id=\"products_heading\">Latest Products</h1>\n                    <section id=\"products\" className=\"container mt-5\">\n                        <div className=\"row\">\n                            { products && products.map(product => (\n                                <Product col={3} key={product._id}  product={product}/>\n                            ))}\n                        \n                        </div>\n                    </section>\n                    {productsCount > 0 && productsCount > resPerPage?\n                    <div className=\"d-flex justify-content-center mt-5\">\n                           <Pagination \n                                activePage={currentPage}\n                                onChange={setCurrentPageNo}\n                                totalItemsCount={productsCount}\n                                itemsCountPerPage={resPerPage}\n                                nextPageText={'Next'}\n                                firstPageText={'First'}\n                                lastPageText={'Last'}\n                                itemClass={'page-item'}\n                                linkClass={'page-link'}\n                           />     \n                    </div> : null }\n                </Fragment>\n           }\n        </Fragment>\n    )\n}"],"mappings":"0IAAA,OAASA,QAAQ,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACrD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,WAAW,KAAQ,2BAA2B,CACvD,MAAOC,OAAM,KAAM,kBAAkB,CACrC,MAAOC,SAAQ,KAAM,oBAAoB,CACzC,MAAOC,QAAO,KAAM,mBAAmB,CACvC,OAASC,KAAK,KAAO,gBAAgB,CACrC,MAAOC,WAAU,KAAM,qBAAqB,CAAC,wFAE7C,cAAgB,SAASC,KAAI,EAAE,CAC3B,GAAMC,SAAQ,CAAGT,WAAW,EAAE,CAC9B,iBAAiEC,WAAW,CAAC,SAACS,KAAK,QAAKA,MAAK,CAACC,aAAa,GAAC,CAArGC,QAAQ,cAARA,QAAQ,CAAEC,OAAO,cAAPA,OAAO,CAAEC,KAAK,cAALA,KAAK,CAAEC,aAAa,cAAbA,aAAa,CAAEC,UAAU,cAAVA,UAAU,CAC1D,cAAsCjB,QAAQ,CAAC,CAAC,CAAC,wCAA1CkB,WAAW,eAAEC,cAAc,eAElC,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAgB,CAAIC,MAAM,CAAI,CAEhCF,cAAc,CAACE,MAAM,CAAC,CAE1B,CAAC,CAEDtB,SAAS,CAAC,UAAI,CACV,GAAGgB,KAAK,CAAE,CACN,MAAOR,MAAK,CAACQ,KAAK,CAACA,KAAK,CAAC,CACrBO,QAAQ,CAAEf,KAAK,CAACgB,QAAQ,CAACC,aAC7B,CAAC,CAAC,CACN,CACAd,QAAQ,CAACP,WAAW,CAAC,IAAI,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAEe,WAAW,CAAC,CAAC,CAC9D,CAAC,CAAE,CAACH,KAAK,CAAEL,QAAQ,CAAEQ,WAAW,CAAC,CAAC,CAGlC,mBACI,KAAC,QAAQ,WACJJ,OAAO,cAAG,KAAC,MAAM,IAAE,cAChB,MAAC,QAAQ,yBACL,KAAC,QAAQ,EAAC,KAAK,CAAE,mBAAoB,EAAG,cACxC,WAAI,EAAE,CAAC,kBAAkB,UAAC,iBAAe,EAAK,cAC9C,gBAAS,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC,gBAAgB,uBAC7C,YAAK,SAAS,CAAC,KAAK,UACdD,QAAQ,EAAIA,QAAQ,CAACY,GAAG,CAAC,SAAAC,OAAO,qBAC9B,KAAC,OAAO,EAAC,GAAG,CAAE,CAAE,CAAoB,OAAO,CAAEA,OAAQ,EAA/BA,OAAO,CAACC,GAAG,CAAsB,EAC1D,CAAC,EAEA,EACA,CACTX,aAAa,CAAG,CAAC,EAAIA,aAAa,CAAGC,UAAU,cAChD,YAAK,SAAS,CAAC,oCAAoC,uBAC5C,KAAC,UAAU,EACN,UAAU,CAAEC,WAAY,CACxB,QAAQ,CAAEE,gBAAiB,CAC3B,eAAe,CAAEJ,aAAc,CAC/B,iBAAiB,CAAEC,UAAW,CAC9B,YAAY,CAAE,MAAO,CACrB,aAAa,CAAE,OAAQ,CACvB,YAAY,CAAE,MAAO,CACrB,SAAS,CAAE,WAAY,CACvB,SAAS,CAAE,WAAY,EAC1B,EACH,CAAG,IAAI,GACN,EAER,CAEnB"},"metadata":{},"sourceType":"module","externalDependencies":[]}