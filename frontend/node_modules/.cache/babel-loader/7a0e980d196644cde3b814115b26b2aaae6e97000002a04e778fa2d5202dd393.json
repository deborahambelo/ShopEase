{"ast":null,"code":"import _regeneratorRuntime from\"/Users/deborahketema/Downloads/jvlcart-main/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/deborahketema/Downloads/jvlcart-main/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'axios';import{productsFail,productsSuccess,productsRequest,adminProductsRequest,adminProductsSuccess,adminProductsFail}from'../slices/productsSlice';import{productFail,productSuccess,productRequest,createReviewRequest,createReviewSuccess,createReviewFail,newProductRequest,newProductSuccess,newProductFail,deleteProductRequest,deleteProductSuccess,deleteProductFail,updateProductRequest,updateProductSuccess,updateProductFail,reviewsRequest,reviewsSuccess,reviewsFail,deleteReviewRequest,deleteReviewSuccess,deleteReviewFail}from'../slices/productSlice';export var getProducts=function getProducts(keyword,price,category,rating,currentPage){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var link,_yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch(productsRequest());link=\"/api/v1/products?page=\".concat(currentPage);if(keyword){link+=\"&keyword=\".concat(keyword);}if(price){link+=\"&price[gte]=\".concat(price[0],\"&price[lte]=\").concat(price[1]);}if(category){link+=\"&category=\".concat(category);}if(rating){link+=\"&ratings=\".concat(rating);}_context.next=9;return axios.get(link);case 9:_yield$axios$get=_context.sent;data=_yield$axios$get.data;dispatch(productsSuccess(data));_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);//handle error\ndispatch(productsFail(_context.t0.response.data.message));case 17:case\"end\":return _context.stop();}},_callee,null,[[0,14]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getProduct=function getProduct(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var _yield$axios$get2,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch(productRequest());_context2.next=4;return axios.get(\"/api/v1/product/\".concat(id));case 4:_yield$axios$get2=_context2.sent;data=_yield$axios$get2.data;dispatch(productSuccess(data));_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);//handle error\ndispatch(productFail(_context2.t0.response.data.message));case 12:case\"end\":return _context2.stop();}},_callee2,null,[[0,9]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var createReview=function createReview(reviewData){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){var config,_yield$axios$put,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;dispatch(createReviewRequest());config={headers:{'Content-type':'application/json'}};_context3.next=5;return axios.put(\"/api/v1/review\",reviewData,config);case 5:_yield$axios$put=_context3.sent;data=_yield$axios$put.data;dispatch(createReviewSuccess(data));_context3.next=13;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](0);//handle error\ndispatch(createReviewFail(_context3.t0.response.data.message));case 13:case\"end\":return _context3.stop();}},_callee3,null,[[0,10]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var getAdminProducts=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch){var _yield$axios$get3,data;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.prev=0;dispatch(adminProductsRequest());_context4.next=4;return axios.get(\"/api/v1/admin/products\");case 4:_yield$axios$get3=_context4.sent;data=_yield$axios$get3.data;dispatch(adminProductsSuccess(data));_context4.next=12;break;case 9:_context4.prev=9;_context4.t0=_context4[\"catch\"](0);//handle error\ndispatch(adminProductsFail(_context4.t0.response.data.message));case 12:case\"end\":return _context4.stop();}},_callee4,null,[[0,9]]);}));return function getAdminProducts(_x4){return _ref4.apply(this,arguments);};}();export var createNewProduct=function createNewProduct(productData){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(dispatch){var _yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.prev=0;dispatch(newProductRequest());_context5.next=4;return axios.post(\"/api/v1/admin/product/new\",productData);case 4:_yield$axios$post=_context5.sent;data=_yield$axios$post.data;dispatch(newProductSuccess(data));_context5.next=12;break;case 9:_context5.prev=9;_context5.t0=_context5[\"catch\"](0);//handle error\ndispatch(newProductFail(_context5.t0.response.data.message));case 12:case\"end\":return _context5.stop();}},_callee5,null,[[0,9]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();};export var deleteProduct=function deleteProduct(id){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(dispatch){return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.prev=0;dispatch(deleteProductRequest());_context6.next=4;return axios.delete(\"/api/v1/admin/product/\".concat(id));case 4:dispatch(deleteProductSuccess());_context6.next=10;break;case 7:_context6.prev=7;_context6.t0=_context6[\"catch\"](0);//handle error\ndispatch(deleteProductFail(_context6.t0.response.data.message));case 10:case\"end\":return _context6.stop();}},_callee6,null,[[0,7]]);}));return function(_x6){return _ref6.apply(this,arguments);};}();};export var updateProduct=function updateProduct(id,productData){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(dispatch){var _yield$axios$put2,data;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:_context7.prev=0;dispatch(updateProductRequest());_context7.next=4;return axios.put(\"/api/v1/admin/product/\".concat(id),productData);case 4:_yield$axios$put2=_context7.sent;data=_yield$axios$put2.data;dispatch(updateProductSuccess(data));_context7.next=12;break;case 9:_context7.prev=9;_context7.t0=_context7[\"catch\"](0);//handle error\ndispatch(updateProductFail(_context7.t0.response.data.message));case 12:case\"end\":return _context7.stop();}},_callee7,null,[[0,9]]);}));return function(_x7){return _ref7.apply(this,arguments);};}();};export var getReviews=function getReviews(id){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(dispatch){var _yield$axios$get4,data;return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:_context8.prev=0;dispatch(reviewsRequest());_context8.next=4;return axios.get(\"/api/v1/admin/reviews\",{params:{id:id}});case 4:_yield$axios$get4=_context8.sent;data=_yield$axios$get4.data;dispatch(reviewsSuccess(data));_context8.next=12;break;case 9:_context8.prev=9;_context8.t0=_context8[\"catch\"](0);//handle error\ndispatch(reviewsFail(_context8.t0.response.data.message));case 12:case\"end\":return _context8.stop();}},_callee8,null,[[0,9]]);}));return function(_x8){return _ref8.apply(this,arguments);};}();};export var deleteReview=function deleteReview(productId,id){return/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee9(dispatch){return _regeneratorRuntime().wrap(function _callee9$(_context9){while(1)switch(_context9.prev=_context9.next){case 0:_context9.prev=0;dispatch(deleteReviewRequest());_context9.next=4;return axios.delete(\"/api/v1/admin/review\",{params:{productId:productId,id:id}});case 4:dispatch(deleteReviewSuccess());_context9.next=10;break;case 7:_context9.prev=7;_context9.t0=_context9[\"catch\"](0);//handle error\ndispatch(deleteReviewFail(_context9.t0.response.data.message));case 10:case\"end\":return _context9.stop();}},_callee9,null,[[0,7]]);}));return function(_x9){return _ref9.apply(this,arguments);};}();};","map":{"version":3,"names":["axios","productsFail","productsSuccess","productsRequest","adminProductsRequest","adminProductsSuccess","adminProductsFail","productFail","productSuccess","productRequest","createReviewRequest","createReviewSuccess","createReviewFail","newProductRequest","newProductSuccess","newProductFail","deleteProductRequest","deleteProductSuccess","deleteProductFail","updateProductRequest","updateProductSuccess","updateProductFail","reviewsRequest","reviewsSuccess","reviewsFail","deleteReviewRequest","deleteReviewSuccess","deleteReviewFail","getProducts","keyword","price","category","rating","currentPage","dispatch","link","get","data","response","message","getProduct","id","createReview","reviewData","config","headers","put","getAdminProducts","createNewProduct","productData","post","deleteProduct","delete","updateProduct","getReviews","params","deleteReview","productId"],"sources":["/Users/deborahketema/Downloads/jvlcart-main/frontend/src/actions/productActions.js"],"sourcesContent":["import axios from 'axios';\nimport { productsFail, productsSuccess, productsRequest, adminProductsRequest, adminProductsSuccess, adminProductsFail } from '../slices/productsSlice';\nimport { productFail, productSuccess, productRequest, createReviewRequest, createReviewSuccess, createReviewFail, newProductRequest, newProductSuccess, newProductFail, deleteProductRequest, deleteProductSuccess, deleteProductFail, updateProductRequest, updateProductSuccess, updateProductFail, reviewsRequest, reviewsSuccess, reviewsFail, deleteReviewRequest, deleteReviewSuccess, deleteReviewFail } from '../slices/productSlice';\n\nexport const getProducts = (keyword, price, category, rating, currentPage) => async (dispatch) => {\n\n    try {  \n        dispatch(productsRequest()) \n        let link = `/api/v1/products?page=${currentPage}`;\n        \n        if(keyword) {\n            link += `&keyword=${keyword}`\n        }\n        if(price) {\n            link += `&price[gte]=${price[0]}&price[lte]=${price[1]}`\n        }\n        if(category) {\n            link += `&category=${category}`\n        }\n        if(rating) {\n            link += `&ratings=${rating}`\n        }\n        \n        const { data }  =  await axios.get(link);\n        dispatch(productsSuccess(data))\n    } catch (error) {\n        //handle error\n        dispatch(productsFail(error.response.data.message))\n    }\n    \n}\n\n\nexport const getProduct = id => async (dispatch) => {\n\n    try {  \n        dispatch(productRequest()) \n        const { data }  =  await axios.get(`/api/v1/product/${id}`);\n        dispatch(productSuccess(data))\n    } catch (error) {\n        //handle error\n        dispatch(productFail(error.response.data.message))\n    }\n    \n}\n\nexport const createReview = reviewData => async (dispatch) => {\n\n    try {  \n        dispatch(createReviewRequest()) \n        const config = {\n            headers : {\n                'Content-type': 'application/json'\n            }\n        }\n        const { data }  =  await axios.put(`/api/v1/review`,reviewData, config);\n        dispatch(createReviewSuccess(data))\n    } catch (error) {\n        //handle error\n        dispatch(createReviewFail(error.response.data.message))\n    }\n    \n}\n\nexport const getAdminProducts  =  async (dispatch) => {\n\n    try {  \n        dispatch(adminProductsRequest()) \n        const { data }  =  await axios.get(`/api/v1/admin/products`);\n        dispatch(adminProductsSuccess(data))\n    } catch (error) {\n        //handle error\n        dispatch(adminProductsFail(error.response.data.message))\n    }\n    \n}\n\nexport const createNewProduct  =  productData => async (dispatch) => {\n\n    try {  \n        dispatch(newProductRequest()) \n        const { data }  =  await axios.post(`/api/v1/admin/product/new`, productData);\n        dispatch(newProductSuccess(data))\n    } catch (error) {\n        //handle error\n        dispatch(newProductFail(error.response.data.message))\n    }\n    \n}\n\nexport const deleteProduct  =  id => async (dispatch) => {\n\n    try {  \n        dispatch(deleteProductRequest()) \n        await axios.delete(`/api/v1/admin/product/${id}`);\n        dispatch(deleteProductSuccess())\n    } catch (error) {\n        //handle error\n        dispatch(deleteProductFail(error.response.data.message))\n    }\n    \n}\n\nexport const updateProduct  =  (id, productData) => async (dispatch) => {\n\n    try {  \n        dispatch(updateProductRequest()) \n        const { data }  =  await axios.put(`/api/v1/admin/product/${id}`, productData);\n        dispatch(updateProductSuccess(data))\n    } catch (error) {\n        //handle error\n        dispatch(updateProductFail(error.response.data.message))\n    }\n    \n}\n\n\nexport const getReviews =  id => async (dispatch) => {\n\n    try {  \n        dispatch(reviewsRequest()) \n        const { data }  =  await axios.get(`/api/v1/admin/reviews`,{params: {id}});\n        dispatch(reviewsSuccess(data))\n    } catch (error) {\n        //handle error\n        dispatch(reviewsFail(error.response.data.message))\n    }\n    \n}\n\nexport const deleteReview =  (productId, id) => async (dispatch) => {\n\n    try {  \n        dispatch(deleteReviewRequest()) \n        await axios.delete(`/api/v1/admin/review`,{params: {productId, id}});\n        dispatch(deleteReviewSuccess())\n    } catch (error) {\n        //handle error\n        dispatch(deleteReviewFail(error.response.data.message))\n    }\n    \n}"],"mappings":"oSAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,YAAY,CAAEC,eAAe,CAAEC,eAAe,CAAEC,oBAAoB,CAAEC,oBAAoB,CAAEC,iBAAiB,KAAQ,yBAAyB,CACvJ,OAASC,WAAW,CAAEC,cAAc,CAAEC,cAAc,CAAEC,mBAAmB,CAAEC,mBAAmB,CAAEC,gBAAgB,CAAEC,iBAAiB,CAAEC,iBAAiB,CAAEC,cAAc,CAAEC,oBAAoB,CAAEC,oBAAoB,CAAEC,iBAAiB,CAAEC,oBAAoB,CAAEC,oBAAoB,CAAEC,iBAAiB,CAAEC,cAAc,CAAEC,cAAc,CAAEC,WAAW,CAAEC,mBAAmB,CAAEC,mBAAmB,CAAEC,gBAAgB,KAAQ,wBAAwB,CAE7a,MAAO,IAAMC,YAAW,CAAG,QAAdA,YAAW,CAAIC,OAAO,CAAEC,KAAK,CAAEC,QAAQ,CAAEC,MAAM,CAAEC,WAAW,mGAAK,iBAAOC,QAAQ,kKAGrFA,QAAQ,CAAC/B,eAAe,EAAE,CAAC,CACvBgC,IAAI,iCAA4BF,WAAW,EAE/C,GAAGJ,OAAO,CAAE,CACRM,IAAI,qBAAgBN,OAAO,CAAE,CACjC,CACA,GAAGC,KAAK,CAAE,CACNK,IAAI,wBAAmBL,KAAK,CAAC,CAAC,CAAC,wBAAeA,KAAK,CAAC,CAAC,CAAC,CAAE,CAC5D,CACA,GAAGC,QAAQ,CAAE,CACTI,IAAI,sBAAiBJ,QAAQ,CAAE,CACnC,CACA,GAAGC,MAAM,CAAE,CACPG,IAAI,qBAAgBH,MAAM,CAAE,CAChC,CAAC,sBAEwBhC,MAAK,CAACoC,GAAG,CAACD,IAAI,CAAC,uCAAhCE,IAAI,kBAAJA,IAAI,CACZH,QAAQ,CAAChC,eAAe,CAACmC,IAAI,CAAC,CAAC,kFAE/B;AACAH,QAAQ,CAACjC,YAAY,CAAC,YAAMqC,QAAQ,CAACD,IAAI,CAACE,OAAO,CAAC,CAAC,qEAG1D,iEAGD,MAAO,IAAMC,WAAU,CAAG,QAAbA,WAAU,CAAGC,EAAE,oGAAI,kBAAOP,QAAQ,mKAGvCA,QAAQ,CAACzB,cAAc,EAAE,CAAC,wBACDT,MAAK,CAACoC,GAAG,2BAAoBK,EAAE,EAAG,yCAAnDJ,IAAI,mBAAJA,IAAI,CACZH,QAAQ,CAAC1B,cAAc,CAAC6B,IAAI,CAAC,CAAC,oFAE9B;AACAH,QAAQ,CAAC3B,WAAW,CAAC,aAAM+B,QAAQ,CAACD,IAAI,CAACE,OAAO,CAAC,CAAC,sEAGzD,mEAED,MAAO,IAAMG,aAAY,CAAG,QAAfA,aAAY,CAAGC,UAAU,oGAAI,kBAAOT,QAAQ,yKAGjDA,QAAQ,CAACxB,mBAAmB,EAAE,CAAC,CACzBkC,MAAM,CAAG,CACXC,OAAO,CAAG,CACN,cAAc,CAAE,kBACpB,CACJ,CAAC,wBACwB7C,MAAK,CAAC8C,GAAG,kBAAkBH,UAAU,CAAEC,MAAM,CAAC,wCAA/DP,IAAI,kBAAJA,IAAI,CACZH,QAAQ,CAACvB,mBAAmB,CAAC0B,IAAI,CAAC,CAAC,sFAEnC;AACAH,QAAQ,CAACtB,gBAAgB,CAAC,aAAM0B,QAAQ,CAACD,IAAI,CAACE,OAAO,CAAC,CAAC,uEAG9D,mEAED,MAAO,IAAMQ,iBAAgB,6FAAK,kBAAOb,QAAQ,mKAGzCA,QAAQ,CAAC9B,oBAAoB,EAAE,CAAC,wBACPJ,MAAK,CAACoC,GAAG,0BAA0B,yCAApDC,IAAI,mBAAJA,IAAI,CACZH,QAAQ,CAAC7B,oBAAoB,CAACgC,IAAI,CAAC,CAAC,oFAEpC;AACAH,QAAQ,CAAC5B,iBAAiB,CAAC,aAAMgC,QAAQ,CAACD,IAAI,CAACE,OAAO,CAAC,CAAC,sEAG/D,kBAXYQ,iBAAgB,8CAW5B,CAED,MAAO,IAAMC,iBAAgB,CAAK,QAArBA,iBAAgB,CAAKC,WAAW,oGAAI,kBAAOf,QAAQ,mKAGxDA,QAAQ,CAACrB,iBAAiB,EAAE,CAAC,wBACJb,MAAK,CAACkD,IAAI,6BAA8BD,WAAW,CAAC,yCAArEZ,IAAI,mBAAJA,IAAI,CACZH,QAAQ,CAACpB,iBAAiB,CAACuB,IAAI,CAAC,CAAC,oFAEjC;AACAH,QAAQ,CAACnB,cAAc,CAAC,aAAMuB,QAAQ,CAACD,IAAI,CAACE,OAAO,CAAC,CAAC,sEAG5D,mEAED,MAAO,IAAMY,cAAa,CAAK,QAAlBA,cAAa,CAAKV,EAAE,oGAAI,kBAAOP,QAAQ,wIAG5CA,QAAQ,CAAClB,oBAAoB,EAAE,CAAC,wBAC1BhB,MAAK,CAACoD,MAAM,iCAA0BX,EAAE,EAAG,QACjDP,QAAQ,CAACjB,oBAAoB,EAAE,CAAC,oFAEhC;AACAiB,QAAQ,CAAChB,iBAAiB,CAAC,aAAMoB,QAAQ,CAACD,IAAI,CAACE,OAAO,CAAC,CAAC,sEAG/D,mEAED,MAAO,IAAMc,cAAa,CAAK,QAAlBA,cAAa,CAAMZ,EAAE,CAAEQ,WAAW,oGAAK,kBAAOf,QAAQ,mKAG3DA,QAAQ,CAACf,oBAAoB,EAAE,CAAC,wBACPnB,MAAK,CAAC8C,GAAG,iCAA0BL,EAAE,EAAIQ,WAAW,CAAC,yCAAtEZ,IAAI,mBAAJA,IAAI,CACZH,QAAQ,CAACd,oBAAoB,CAACiB,IAAI,CAAC,CAAC,oFAEpC;AACAH,QAAQ,CAACb,iBAAiB,CAAC,aAAMiB,QAAQ,CAACD,IAAI,CAACE,OAAO,CAAC,CAAC,sEAG/D,mEAGD,MAAO,IAAMe,WAAU,CAAI,QAAdA,WAAU,CAAIb,EAAE,oGAAI,kBAAOP,QAAQ,mKAGxCA,QAAQ,CAACZ,cAAc,EAAE,CAAC,wBACDtB,MAAK,CAACoC,GAAG,yBAAyB,CAACmB,MAAM,CAAE,CAACd,EAAE,CAAFA,EAAE,CAAC,CAAC,CAAC,yCAAlEJ,IAAI,mBAAJA,IAAI,CACZH,QAAQ,CAACX,cAAc,CAACc,IAAI,CAAC,CAAC,oFAE9B;AACAH,QAAQ,CAACV,WAAW,CAAC,aAAMc,QAAQ,CAACD,IAAI,CAACE,OAAO,CAAC,CAAC,sEAGzD,mEAED,MAAO,IAAMiB,aAAY,CAAI,QAAhBA,aAAY,CAAKC,SAAS,CAAEhB,EAAE,oGAAK,kBAAOP,QAAQ,wIAGvDA,QAAQ,CAACT,mBAAmB,EAAE,CAAC,wBACzBzB,MAAK,CAACoD,MAAM,wBAAwB,CAACG,MAAM,CAAE,CAACE,SAAS,CAATA,SAAS,CAAEhB,EAAE,CAAFA,EAAE,CAAC,CAAC,CAAC,QACpEP,QAAQ,CAACR,mBAAmB,EAAE,CAAC,oFAE/B;AACAQ,QAAQ,CAACP,gBAAgB,CAAC,aAAMW,QAAQ,CAACD,IAAI,CAACE,OAAO,CAAC,CAAC,sEAG9D"},"metadata":{},"sourceType":"module","externalDependencies":[]}