{"ast":null,"code":"import{useSelector}from'react-redux';import{Navigate}from'react-router-dom';import Loader from'../layouts/Loader';import{jsx as _jsx}from\"react/jsx-runtime\";export default function ProtectedRoute(_ref){var children=_ref.children,isAdmin=_ref.isAdmin;var _useSelector=useSelector(function(state){return state.authState;}),isAuthenticated=_useSelector.isAuthenticated,loading=_useSelector.loading,user=_useSelector.user;if(!isAuthenticated&&!loading){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}if(isAuthenticated){if(isAdmin===true&&user.role!=='admin'){return/*#__PURE__*/_jsx(Navigate,{to:\"/\"});}return children;}if(loading){return/*#__PURE__*/_jsx(Loader,{});}}","map":{"version":3,"names":["useSelector","Navigate","Loader","ProtectedRoute","children","isAdmin","state","authState","isAuthenticated","loading","user","role"],"sources":["/Users/deborahketema/Downloads/jvlcart-main/frontend/src/components/route/ProtectedRoute.js"],"sourcesContent":["import { useSelector } from 'react-redux';\nimport {Navigate} from 'react-router-dom';\nimport Loader from '../layouts/Loader';\n\nexport default function ProtectedRoute ({children, isAdmin}) {\n    const { isAuthenticated, loading, user } = useSelector(state => state.authState)\n\n    if(!isAuthenticated && !loading) {\n        return <Navigate to=\"/login\" />\n    }\n\n    if(isAuthenticated) {\n        if(isAdmin === true  && user.role !== 'admin') {\n            return <Navigate to=\"/\" />\n        }\n        return children;\n    }\n\n    if(loading) {\n        return <Loader/>\n    }\n\n   \n}"],"mappings":"AAAA,OAASA,WAAW,KAAQ,aAAa,CACzC,OAAQC,QAAQ,KAAO,kBAAkB,CACzC,MAAOC,OAAM,KAAM,mBAAmB,CAAC,2CAEvC,cAAe,SAASC,eAAc,MAAuB,IAApBC,SAAQ,MAARA,QAAQ,CAAEC,OAAO,MAAPA,OAAO,CACtD,iBAA2CL,WAAW,CAAC,SAAAM,KAAK,QAAIA,MAAK,CAACC,SAAS,GAAC,CAAxEC,eAAe,cAAfA,eAAe,CAAEC,OAAO,cAAPA,OAAO,CAAEC,IAAI,cAAJA,IAAI,CAEtC,GAAG,CAACF,eAAe,EAAI,CAACC,OAAO,CAAE,CAC7B,mBAAO,KAAC,QAAQ,EAAC,EAAE,CAAC,QAAQ,EAAG,CACnC,CAEA,GAAGD,eAAe,CAAE,CAChB,GAAGH,OAAO,GAAK,IAAI,EAAKK,IAAI,CAACC,IAAI,GAAK,OAAO,CAAE,CAC3C,mBAAO,KAAC,QAAQ,EAAC,EAAE,CAAC,GAAG,EAAG,CAC9B,CACA,MAAOP,SAAQ,CACnB,CAEA,GAAGK,OAAO,CAAE,CACR,mBAAO,KAAC,MAAM,IAAE,CACpB,CAGJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}