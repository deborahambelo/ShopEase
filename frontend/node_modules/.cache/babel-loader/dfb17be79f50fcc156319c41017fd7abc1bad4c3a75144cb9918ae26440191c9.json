{"ast":null,"code":"import _slicedToArray from\"/Users/deborahketema/Downloads/jvlcart-main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useDispatch,useSelector}from\"react-redux\";import{Fragment,useState}from\"react\";import{countries}from'countries-list';import{saveShippingInfo}from\"../../slices/cartSlice\";import{useNavigate}from\"react-router-dom\";import CheckoutSteps from\"./CheckoutStep\";import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var validateShipping=function validateShipping(shippingInfo,navigate){if(!shippingInfo.address||!shippingInfo.city||!shippingInfo.state||!shippingInfo.country||!shippingInfo.phoneNo||!shippingInfo.postalCode){toast.error('Please fill the shipping information',{position:toast.POSITION.BOTTOM_CENTER});navigate('/shipping');}};export default function Shipping(){var _useSelector=useSelector(function(state){return state.cartState;}),_useSelector$shipping=_useSelector.shippingInfo,shippingInfo=_useSelector$shipping===void 0?{}:_useSelector$shipping;var _useState=useState(shippingInfo.address),_useState2=_slicedToArray(_useState,2),address=_useState2[0],setAddress=_useState2[1];var _useState3=useState(shippingInfo.city),_useState4=_slicedToArray(_useState3,2),city=_useState4[0],setCity=_useState4[1];var _useState5=useState(shippingInfo.phoneNo),_useState6=_slicedToArray(_useState5,2),phoneNo=_useState6[0],setPhoneNo=_useState6[1];var _useState7=useState(shippingInfo.postalCode),_useState8=_slicedToArray(_useState7,2),postalCode=_useState8[0],setPostalCode=_useState8[1];var _useState9=useState(shippingInfo.country),_useState10=_slicedToArray(_useState9,2),country=_useState10[0],setCountry=_useState10[1];var _useState11=useState(shippingInfo.state),_useState12=_slicedToArray(_useState11,2),state=_useState12[0],setState=_useState12[1];var countryList=Object.values(countries);var dispatch=useDispatch();var navigate=useNavigate();var submitHandler=function submitHandler(e){e.preventDefault();dispatch(saveShippingInfo({address:address,city:city,phoneNo:phoneNo,postalCode:postalCode,country:country,state:state}));navigate('/order/confirm');};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(CheckoutSteps,{shipping:true}),/*#__PURE__*/_jsx(\"div\",{className:\"row wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-10 col-lg-5\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,className:\"shadow-lg\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-4\",children:\"Shipping Info\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"address_field\",children:\"Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"address_field\",className:\"form-control\",value:address,onChange:function onChange(e){return setAddress(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"city_field\",children:\"City\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"city_field\",className:\"form-control\",value:city,onChange:function onChange(e){return setCity(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone_field\",children:\"Phone No\"}),/*#__PURE__*/_jsx(\"input\",{type:\"phone\",id:\"phone_field\",className:\"form-control\",value:phoneNo,onChange:function onChange(e){return setPhoneNo(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"postal_code_field\",children:\"Postal Code\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"postal_code_field\",className:\"form-control\",value:postalCode,onChange:function onChange(e){return setPostalCode(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"country_field\",children:\"Country\"}),/*#__PURE__*/_jsx(\"select\",{id:\"country_field\",className:\"form-control\",value:country,onChange:function onChange(e){return setCountry(e.target.value);},required:true,children:countryList.map(function(country,i){return/*#__PURE__*/_jsx(\"option\",{value:country.name,children:country.name},i);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"state_field\",children:\"State\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"state_field\",className:\"form-control\",value:state,onChange:function onChange(e){return setState(e.target.value);},required:true})]}),/*#__PURE__*/_jsx(\"button\",{id:\"shipping_btn\",type:\"submit\",className:\"btn btn-block py-3\",children:\"CONTINUE\"})]})})})]});}","map":{"version":3,"names":["useDispatch","useSelector","Fragment","useState","countries","saveShippingInfo","useNavigate","CheckoutSteps","toast","validateShipping","shippingInfo","navigate","address","city","state","country","phoneNo","postalCode","error","position","POSITION","BOTTOM_CENTER","Shipping","cartState","setAddress","setCity","setPhoneNo","setPostalCode","setCountry","setState","countryList","Object","values","dispatch","submitHandler","e","preventDefault","target","value","map","i","name"],"sources":["/Users/deborahketema/Downloads/jvlcart-main/frontend/src/components/cart/Shipping.js"],"sourcesContent":["import { useDispatch, useSelector } from \"react-redux\";\nimport { Fragment, useState } from \"react\";\nimport {countries} from 'countries-list'\nimport { saveShippingInfo } from \"../../slices/cartSlice\";\nimport { useNavigate } from \"react-router-dom\";\nimport CheckoutSteps from \"./CheckoutStep\";\nimport { toast } from \"react-toastify\";\n\nexport const validateShipping = (shippingInfo, navigate) => {\n   \n    if(\n        !shippingInfo.address||\n        !shippingInfo.city||\n        !shippingInfo.state|| \n        !shippingInfo.country||\n        !shippingInfo.phoneNo||\n        !shippingInfo.postalCode\n        ) {\n            toast.error('Please fill the shipping information',{position: toast.POSITION.BOTTOM_CENTER})\n            navigate('/shipping')\n    }\n} \n\n\nexport default function Shipping() {\n    const {shippingInfo={} } = useSelector(state => state.cartState)\n\n    const [address, setAddress] = useState(shippingInfo.address);\n    const [city, setCity] = useState(shippingInfo.city);\n    const [phoneNo, setPhoneNo] = useState(shippingInfo.phoneNo);\n    const [postalCode, setPostalCode] = useState(shippingInfo.postalCode);\n    const [country, setCountry] = useState(shippingInfo.country);\n    const [state, setState] = useState(shippingInfo.state);\n    const countryList =  Object.values(countries);\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n\n    const submitHandler = (e) => {\n        e.preventDefault();\n        dispatch(saveShippingInfo({address, city, phoneNo, postalCode, country, state}))\n        navigate('/order/confirm')\n    }\n\n\n\n\n\n    return (\n        <Fragment>\n            <CheckoutSteps shipping />\n            <div className=\"row wrapper\">\n                    <div className=\"col-10 col-lg-5\">\n                        <form onSubmit={submitHandler} className=\"shadow-lg\">\n                            <h1 className=\"mb-4\">Shipping Info</h1>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"address_field\">Address</label>\n                                <input\n                                    type=\"text\"\n                                    id=\"address_field\"\n                                    className=\"form-control\"\n                                    value={address}\n                                    onChange={(e) => setAddress(e.target.value)}\n                                    required\n                                />\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label htmlFor=\"city_field\">City</label>\n                                <input\n                                    type=\"text\"\n                                    id=\"city_field\"\n                                    className=\"form-control\"\n                                    value={city}\n                                    onChange={(e) => setCity(e.target.value)}\n                                    required\n                                />\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label htmlFor=\"phone_field\">Phone No</label>\n                                <input\n                                    type=\"phone\"\n                                    id=\"phone_field\"\n                                    className=\"form-control\"\n                                    value={phoneNo}\n                                    onChange={(e) => setPhoneNo(e.target.value)}\n                                    required\n                                />\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label htmlFor=\"postal_code_field\">Postal Code</label>\n                                <input\n                                    type=\"number\"\n                                    id=\"postal_code_field\"\n                                    className=\"form-control\"\n                                    value={postalCode}\n                                    onChange={(e) => setPostalCode(e.target.value)}\n                                    required\n                                />\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label htmlFor=\"country_field\">Country</label>\n                                <select\n                                    id=\"country_field\"\n                                    className=\"form-control\"\n                                    value={country}\n                                    onChange={(e) => setCountry(e.target.value)}\n                                    required\n\n                                >{ countryList.map((country, i) => (\n\n                                    <option key={i} value={country.name}>\n                                        {country.name}\n                                    </option>\n                                ))\n                                }\n                                </select>\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"state_field\">State</label>\n                                <input\n                                    type=\"text\"\n                                    id=\"state_field\"\n                                    className=\"form-control\"\n                                    value={state}\n                                    onChange={(e) => setState(e.target.value)}\n                                    required\n                                />\n                            </div>\n\n                            <button\n                                id=\"shipping_btn\"\n                                type=\"submit\"\n                                className=\"btn btn-block py-3\"\n                            >\n                                CONTINUE\n                                </button>\n                        </form>\n                    </div>\n            </div>\n        </Fragment>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}