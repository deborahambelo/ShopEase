{"ast":null,"code":"import React from'react';import{Link,useNavigate}from'react-router-dom';import Search from'./Search';import{useDispatch,useSelector}from'react-redux';import{DropdownButton,Dropdown,Image}from'react-bootstrap';import{logout}from'../../actions/userActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Header(){var _user$avatar;var _useSelector=useSelector(function(state){return state.authState;}),isAuthenticated=_useSelector.isAuthenticated,user=_useSelector.user;var _useSelector2=useSelector(function(state){return state.cartState;}),cartItems=_useSelector2.items;var dispatch=useDispatch();var navigate=useNavigate();var logoutHandler=function logoutHandler(){dispatch(logout);};return/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"navbar-brand\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{width:\"150px\",alt:\"JVLcart Logo\",src:\"/images/logo.png\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6 mt-2 mt-md-0\",children:/*#__PURE__*/_jsx(Search,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-md-3 mt-4 mt-md-0 text-center\",children:[isAuthenticated?/*#__PURE__*/_jsxs(Dropdown,{className:\"d-inline\",children:[/*#__PURE__*/_jsxs(Dropdown.Toggle,{variant:\"default text-white pr-5\",id:\"dropdown-basic\",children:[/*#__PURE__*/_jsx(\"figure\",{className:\"avatar avatar-nav\",children:/*#__PURE__*/_jsx(Image,{width:\"50px\",src:(_user$avatar=user.avatar)!==null&&_user$avatar!==void 0?_user$avatar:'./images/default_avatar.png'})}),/*#__PURE__*/_jsx(\"span\",{children:user.name})]}),/*#__PURE__*/_jsxs(Dropdown.Menu,{children:[user.role==='admin'&&/*#__PURE__*/_jsx(Dropdown.Item,{onClick:function onClick(){navigate('admin/dashboard');},className:\"text-dark\",children:\"Dashboard\"}),/*#__PURE__*/_jsx(Dropdown.Item,{onClick:function onClick(){navigate('/myprofile');},className:\"text-dark\",children:\"Profile\"}),/*#__PURE__*/_jsx(Dropdown.Item,{onClick:function onClick(){navigate('/orders');},className:\"text-dark\",children:\"Orders\"}),/*#__PURE__*/_jsx(Dropdown.Item,{onClick:logoutHandler,className:\"text-danger\",children:\"Logout\"})]})]}):/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn\",id:\"login_btn\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/cart\",children:/*#__PURE__*/_jsx(\"span\",{id:\"cart\",className:\"ml-3\",children:\"Cart\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1\",id:\"cart_count\",children:cartItems.length})]})]});}","map":{"version":3,"names":["React","Link","useNavigate","Search","useDispatch","useSelector","DropdownButton","Dropdown","Image","logout","Header","state","authState","isAuthenticated","user","cartState","cartItems","items","dispatch","navigate","logoutHandler","avatar","name","role","length"],"sources":["/Users/deborahketema/Downloads/jvlcart-main/frontend/src/components/layouts/Header.js"],"sourcesContent":["import React from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport Search from './Search';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {DropdownButton, Dropdown, Image} from 'react-bootstrap';\nimport { logout } from '../../actions/userActions';\n\n\nexport default function Header () {\n    const { isAuthenticated, user } = useSelector(state => state.authState);\n    const { items:cartItems } = useSelector(state => state.cartState)\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n    const logoutHandler = () => {\n      dispatch(logout);\n    }\n\n\n    return (\n    <nav className=\"navbar row\">\n        <div className=\"col-12 col-md-3\">\n          <div className=\"navbar-brand\">\n            <Link to=\"/\">\n              <img width=\"150px\" alt='JVLcart Logo' src=\"/images/logo.png\" />\n            </Link>\n            </div>\n        </div>\n  \n        <div className=\"col-12 col-md-6 mt-2 mt-md-0\">\n           <Search/>\n        </div>\n  \n        <div className=\"col-12 col-md-3 mt-4 mt-md-0 text-center\">\n          { isAuthenticated ? \n            (\n              <Dropdown className='d-inline' >\n                  <Dropdown.Toggle variant='default text-white pr-5' id='dropdown-basic'>\n                    <figure className='avatar avatar-nav'>\n                      <Image width=\"50px\" src={user.avatar??'./images/default_avatar.png'}  />\n                    </figure>\n                    <span>{user.name}</span>\n                  </Dropdown.Toggle>\n                  <Dropdown.Menu>\n                      { user.role === 'admin' && <Dropdown.Item onClick={() => {navigate('admin/dashboard')}} className='text-dark'>Dashboard</Dropdown.Item> }\n                      <Dropdown.Item onClick={() => {navigate('/myprofile')}} className='text-dark'>Profile</Dropdown.Item>\n                      <Dropdown.Item onClick={() => {navigate('/orders')}} className='text-dark'>Orders</Dropdown.Item>\n                      <Dropdown.Item onClick={logoutHandler} className='text-danger'>Logout</Dropdown.Item>\n                  </Dropdown.Menu>\n              </Dropdown>\n            )\n          \n          :\n            <Link to=\"/login\"  className=\"btn\" id=\"login_btn\">Login</Link>\n          }\n          <Link to=\"/cart\"><span id=\"cart\" className=\"ml-3\">Cart</span></Link>\n          <span className=\"ml-1\" id=\"cart_count\">{cartItems.length}</span>\n        </div>\n    </nav>\n    )\n}"],"mappings":"AAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAOC,OAAM,KAAM,UAAU,CAC7B,OAAQC,WAAW,CAAEC,WAAW,KAAO,aAAa,CACpD,OAAQC,cAAc,CAAEC,QAAQ,CAAEC,KAAK,KAAO,iBAAiB,CAC/D,OAASC,MAAM,KAAQ,2BAA2B,CAAC,wFAGnD,cAAe,SAASC,OAAM,EAAI,kBAC9B,iBAAkCL,WAAW,CAAC,SAAAM,KAAK,QAAIA,MAAK,CAACC,SAAS,GAAC,CAA/DC,eAAe,cAAfA,eAAe,CAAEC,IAAI,cAAJA,IAAI,CAC7B,kBAA4BT,WAAW,CAAC,SAAAM,KAAK,QAAIA,MAAK,CAACI,SAAS,GAAC,CAAnDC,SAAS,eAAfC,KAAK,CACb,GAAMC,SAAQ,CAAGd,WAAW,EAAE,CAC9B,GAAMe,SAAQ,CAAGjB,WAAW,EAAE,CAC9B,GAAMkB,cAAa,CAAG,QAAhBA,cAAa,EAAS,CAC1BF,QAAQ,CAACT,MAAM,CAAC,CAClB,CAAC,CAGD,mBACA,aAAK,SAAS,CAAC,YAAY,wBACvB,YAAK,SAAS,CAAC,iBAAiB,uBAC9B,YAAK,SAAS,CAAC,cAAc,uBAC3B,KAAC,IAAI,EAAC,EAAE,CAAC,GAAG,uBACV,YAAK,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,GAAG,CAAC,kBAAkB,EAAG,EAC1D,EACD,EACJ,cAEN,YAAK,SAAS,CAAC,8BAA8B,uBAC1C,KAAC,MAAM,IAAE,EACN,cAEN,aAAK,SAAS,CAAC,0CAA0C,WACrDI,eAAe,cAEb,MAAC,QAAQ,EAAC,SAAS,CAAC,UAAU,wBAC1B,MAAC,QAAQ,CAAC,MAAM,EAAC,OAAO,CAAC,yBAAyB,CAAC,EAAE,CAAC,gBAAgB,wBACpE,eAAQ,SAAS,CAAC,mBAAmB,uBACnC,KAAC,KAAK,EAAC,KAAK,CAAC,MAAM,CAAC,GAAG,eAAEC,IAAI,CAACO,MAAM,6CAAE,6BAA8B,EAAI,EACjE,cACT,sBAAOP,IAAI,CAACQ,IAAI,EAAQ,GACR,cAClB,MAAC,QAAQ,CAAC,IAAI,YACRR,IAAI,CAACS,IAAI,GAAK,OAAO,eAAI,KAAC,QAAQ,CAAC,IAAI,EAAC,OAAO,CAAE,kBAAM,CAACJ,QAAQ,CAAC,iBAAiB,CAAC,EAAE,CAAC,SAAS,CAAC,WAAW,UAAC,WAAS,EAAgB,cACvI,KAAC,QAAQ,CAAC,IAAI,EAAC,OAAO,CAAE,kBAAM,CAACA,QAAQ,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,WAAW,UAAC,SAAO,EAAgB,cACrG,KAAC,QAAQ,CAAC,IAAI,EAAC,OAAO,CAAE,kBAAM,CAACA,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC,SAAS,CAAC,WAAW,UAAC,QAAM,EAAgB,cACjG,KAAC,QAAQ,CAAC,IAAI,EAAC,OAAO,CAAEC,aAAc,CAAC,SAAS,CAAC,aAAa,UAAC,QAAM,EAAgB,GACzE,GACT,cAIb,KAAC,IAAI,EAAC,EAAE,CAAC,QAAQ,CAAE,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC,WAAW,UAAC,OAAK,EAAO,cAEhE,KAAC,IAAI,EAAC,EAAE,CAAC,OAAO,uBAAC,aAAM,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,UAAC,MAAI,EAAO,EAAO,cACpE,aAAM,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY,UAAEJ,SAAS,CAACQ,MAAM,EAAQ,GAC5D,GACJ,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}