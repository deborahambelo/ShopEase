{"ast":null,"code":"import{Fragment}from'react';import{useDispatch,useSelector}from'react-redux';import{Link,useNavigate}from'react-router-dom';import{decreaseCartItemQty,increaseCartItemQty,removeItemFromCart}from'../../slices/cartSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Cart(){var _useSelector=useSelector(function(state){return state.cartState;}),items=_useSelector.items;var dispatch=useDispatch();var navigate=useNavigate();var increaseQty=function increaseQty(item){var count=item.quantity;if(item.stock==0||count>=item.stock)return;dispatch(increaseCartItemQty(item.product));};var decreaseQty=function decreaseQty(item){var count=item.quantity;if(count==1)return;dispatch(decreaseCartItemQty(item.product));};var checkoutHandler=function checkoutHandler(){navigate('/login?redirect=shipping');};return/*#__PURE__*/_jsx(Fragment,{children:items.length==0?/*#__PURE__*/_jsx(\"h2\",{className:\"mt-5\",children:\"Your Cart is Empty\"}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"mt-5\",children:[\"Your Cart: \",/*#__PURE__*/_jsxs(\"b\",{children:[items.length,\" items\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-lg-8\",children:[items.map(function(item){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-3\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name,height:\"90\",width:\"115\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-5 col-lg-3\",children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.product),children:item.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-2 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsxs(\"p\",{id:\"card_item_price\",children:[\"$\",item.price]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-3 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"stockCounter d-inline\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"btn btn-danger minus\",onClick:function onClick(){return decreaseQty(item);},children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control count d-inline\",value:item.quantity,readOnly:true}),/*#__PURE__*/_jsx(\"span\",{className:\"btn btn-primary plus\",onClick:function onClick(){return increaseQty(item);},children:\"+\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-1 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsx(\"i\",{id:\"delete_cart_item\",onClick:function onClick(){return dispatch(removeItemFromCart(item.product));},className:\"fa fa-trash btn btn-danger\"})})]})})]},item.product);}),/*#__PURE__*/_jsx(\"hr\",{})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-3 my-4\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"order_summary\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Order Summary\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Subtotal:  \",/*#__PURE__*/_jsxs(\"span\",{className:\"order-summary-values\",children:[items.reduce(function(acc,item){return acc+item.quantity;},0),\" (Units)\"]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Est. total: \",/*#__PURE__*/_jsxs(\"span\",{className:\"order-summary-values\",children:[\"$\",items.reduce(function(acc,item){return acc+item.quantity*item.price;},0)]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"button\",{id:\"checkout_btn\",onClick:checkoutHandler,className:\"btn btn-primary btn-block\",children:\"Check out\"})]})})]})]})});}","map":{"version":3,"names":["Fragment","useDispatch","useSelector","Link","useNavigate","decreaseCartItemQty","increaseCartItemQty","removeItemFromCart","Cart","state","cartState","items","dispatch","navigate","increaseQty","item","count","quantity","stock","product","decreaseQty","checkoutHandler","length","map","image","name","price","reduce","acc"],"sources":["/Users/deborahketema/Downloads/ShopEase/frontend/src/components/cart/Cart.js"],"sourcesContent":["import { Fragment } from 'react'\nimport {useDispatch, useSelector} from 'react-redux';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { decreaseCartItemQty, increaseCartItemQty,removeItemFromCart } from '../../slices/cartSlice';\n\nexport default function Cart() {\n    const {items } = useSelector(state => state.cartState)\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n\n    const increaseQty = (item) => {\n        const count = item.quantity;\n        if(item.stock ==0 ||  count >= item.stock) return;\n        dispatch(increaseCartItemQty(item.product))\n    }\n    const decreaseQty = (item) => {\n        const count = item.quantity;\n        if(count == 1) return;\n        dispatch(decreaseCartItemQty(item.product))\n    }\n\n    const checkoutHandler = () =>{\n        navigate('/login?redirect=shipping')\n    }\n\n\n    return (\n        <Fragment>\n            {items.length==0 ? \n                <h2 className=\"mt-5\">Your Cart is Empty</h2> :\n                <Fragment>\n                     <h2 className=\"mt-5\">Your Cart: <b>{items.length} items</b></h2>\n                    <div className=\"row d-flex justify-content-between\">\n                        <div className=\"col-12 col-lg-8\">\n                            {items.map(item => (\n                                <Fragment key={item.product}>\n                                    <hr />\n                                    <div className=\"cart-item\">\n                                        <div className=\"row\">\n                                            <div className=\"col-4 col-lg-3\">\n                                                <img src={item.image} alt={item.name} height=\"90\" width=\"115\"/>\n                                            </div>\n\n                                            <div className=\"col-5 col-lg-3\">\n                                                <Link to={`/product/${item.product}`}>{item.name}</Link>\n                                            </div>\n\n\n                                            <div className=\"col-4 col-lg-2 mt-4 mt-lg-0\">\n                                                <p id=\"card_item_price\">${item.price}</p>\n                                            </div>\n\n                                            <div className=\"col-4 col-lg-3 mt-4 mt-lg-0\">\n                                                <div className=\"stockCounter d-inline\">\n                                                    <span className=\"btn btn-danger minus\" onClick={() => decreaseQty(item)}>-</span>\n                                                    <input type=\"number\" className=\"form-control count d-inline\" value={item.quantity} readOnly />\n\n                                                    <span className=\"btn btn-primary plus\" onClick={() => increaseQty(item)}>+</span>\n                                                </div>\n                                            </div>\n\n                                            <div className=\"col-4 col-lg-1 mt-4 mt-lg-0\">\n                                                <i id=\"delete_cart_item\" onClick={() => dispatch(removeItemFromCart(item.product))} className=\"fa fa-trash btn btn-danger\"></i>\n                                            </div>\n\n                                        </div>\n                                    </div>\n                                </Fragment>\n                                )\n                            )\n                            }\n\n                         \n                            <hr />\n                        </div>\n\n                        <div className=\"col-12 col-lg-3 my-4\">\n                            <div id=\"order_summary\">\n                                <h4>Order Summary</h4>\n                                <hr />\n                                <p>Subtotal:  <span className=\"order-summary-values\">{items.reduce((acc, item)=>(acc + item.quantity), 0)} (Units)</span></p>\n                                <p>Est. total: <span className=\"order-summary-values\">${items.reduce((acc, item)=>(acc + item.quantity * item.price), 0)}</span></p>\n                \n                                <hr />\n                                <button id=\"checkout_btn\" onClick={checkoutHandler} className=\"btn btn-primary btn-block\">Check out</button>\n                            </div>\n                        </div>\n                    </div>\n                </Fragment>\n            }\n           \n        </Fragment>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}